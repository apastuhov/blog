<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Evolution of Interaction | Aleksey Pastuhov</title>
    <meta name="description" content="I want to tell you how people often develop an interaction between UI and API.">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=2">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=2">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=2">
  <link rel="manifest" href="/site.webmanifest?v=2">
  <link rel="mask-icon" href="/safari-pinned-tab.svg?v=2" color="#5bbad5">
  <link rel="shortcut icon" href="/favicon.ico?v=2">
  <meta name="apple-mobile-web-app-title" content="Aleksey Pastuhov">
  <meta name="application-name" content="Aleksey Pastuhov">
  <meta name="msapplication-TileColor" content="#223344">
  <meta name="theme-color" content="#ffffff">
  <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-100449796-1"></script>
  <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-100449796-1');</script>
  <meta name="pinterest-rich-pin" content="true">
  <meta property="og:type" content="article">
  <meta property="og:site_name" content="Aleksey Pastuhov">
  <meta name="twitter:card" content="summary">
  <meta name="author" content="Aleksey Pastuhov">
  <style>@font-face {font-family: 'Constantia'; src: url('/fonts/Constantia.ttf'); }       @font-face {font-family: 'Franklin Gothic Medium'; src: url('/fonts/franklin-gothic-medium.ttf'); }</style>
    <meta property="og:image" content="https://apastuhov.com/android-chrome-512x512.png"><meta property="twitter:image" content="https://apastuhov.com/android-chrome-512x512.png"><meta property="og:image:width" content="512px"><meta property="og:image:height" content="512px"><meta property="og:url" content="https://apastuhov.com/post/evolution-of-interaction/"><meta name="keywords" content="aleksey pastuhov,javascript,evolution,interaction,jquery,services,architecture,silver bullet,micro services"><meta name="twitter:title" content="Evolution of Interaction"><meta property="og:title" content="Evolution of Interaction"><meta name="twitter:description" content="I want to tell you how people often develop an interaction between UI and API."><meta property="og:description" content="I want to tell you how people often develop an interaction between UI and API."><meta property="og:locale" content="en_US">
    <link rel="preload" href="/assets/css/styles.e437fc9f.css" as="style"><link rel="preload" href="/assets/js/app.e437fc9f.js" as="script"><link rel="preload" href="/assets/js/1.2d26195f.js" as="script"><link rel="prefetch" href="/assets/css/2.styles.cdbda137.css"><link rel="prefetch" href="/assets/css/6.styles.f3934f64.css"><link rel="prefetch" href="/assets/js/10.050ea8eb.js"><link rel="prefetch" href="/assets/js/2.cdbda137.js"><link rel="prefetch" href="/assets/js/3.c98fb745.js"><link rel="prefetch" href="/assets/js/4.87968ab8.js"><link rel="prefetch" href="/assets/js/5.08002aee.js"><link rel="prefetch" href="/assets/js/6.f3934f64.js"><link rel="prefetch" href="/assets/js/7.23db4ec0.js"><link rel="prefetch" href="/assets/js/8.73194ed2.js"><link rel="prefetch" href="/assets/js/9.34d88535.js">
    <link rel="stylesheet" href="/assets/css/2.styles.cdbda137.css"><link rel="stylesheet" href="/assets/css/6.styles.f3934f64.css"><link rel="stylesheet" href="/assets/css/styles.e437fc9f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <div class="links left-links can-hide" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----> <div class="theme-switcher"><img title="Switch to light side" srcset="/images/switcher-to-dark.png 100w" sizes="50px" src="/images/switcher-to-dark.png" class="to-dark"> <img title="Switch to dark side" srcset="/images/switcher-to-light.png 100w" sizes="50px" src="/images/switcher-to-light.png" class="to-light"></div></div> <div class="links right-links should-display" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div> <a href="/" class="home-link router-link-active"><img alt="Aleksey Pastuhov" src="/logo.svg" class="logo logo-light"> <img alt="Aleksey Pastuhov" src="/logo-dark.svg" class="logo logo-dark"> <h1 class="site-name can-hide">Aleksey Pastuhov</h1></a> <div class="links right-links" style="max-width:nullpx;"><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Articles</a></div><div class="nav-item"><a href="/about/" class="nav-link">About me</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><div class="theme-switcher"><img title="Switch to light side" srcset="/images/switcher-to-dark.png 100w" sizes="50px" src="/images/switcher-to-dark.png" class="to-dark"> <img title="Switch to dark side" srcset="/images/switcher-to-light.png 100w" sizes="50px" src="/images/switcher-to-light.png" class="to-light"></div> <!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Articles</a></div><div class="nav-item"><a href="/about/" class="nav-link">About me</a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Evolution of Interaction</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/post/evolution-of-interaction/#no-silver-bullet-or-types-of-architecture" class="sidebar-link">No silver bullet or Types of architecture</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/post/evolution-of-interaction/#on-flight-or-jquery-style" class="sidebar-link">On-flight or jQuery style</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/post/evolution-of-interaction/#factory" class="sidebar-link">Factory</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/post/evolution-of-interaction/#singleton" class="sidebar-link">Singleton</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/post/evolution-of-interaction/#micro-services" class="sidebar-link">&quot;Micro&quot; services</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/post/evolution-of-interaction/#summary" class="sidebar-link">Summary</a><ul class="sidebar-sub-headers"></ul></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="evolution-of-interaction"><a href="#evolution-of-interaction" aria-hidden="true" class="header-anchor">#</a> Evolution of Interaction</h1> <p>If you write frontend application - I assume that it interacts with backend API server. If your app is small - you do not think about architecture and scaling. But if it is a big LTS application - you need to think about it! Why? Because You will develop and support that application in future, so just pray that you wont hate yourself in time. I want to tell you how people often develop an interaction between UI and API.</p> <p>To be on the same page, lets define that <strong>Interaction</strong> - is an object/class/method/function that allows you to send requests to a backend server.</p> <h2 id="no-silver-bullet-or-types-of-architecture"><a href="#no-silver-bullet-or-types-of-architecture" aria-hidden="true" class="header-anchor">#</a> No silver bullet or Types of architecture</h2> <p>You can try to search some solution! And you may find some guidelines or libraries, also it may be a part of a framework you use, like <a href="https://docs.angularjs.org/api/ngResource/service/$resource" target="_blank" rel="noopener noreferrer">angular.$resource<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. In general, there will be 4 types of <em>Interaction</em> architecture.</p> <ul><li>On-flight</li> <li>Factory</li> <li>Singleton</li> <li>&quot;Micro&quot; services</li></ul> <p>So you will find that there is no silver bullet, which will be the best or the most popular.</p> <p>I do not want to describe the implementation of every approach because it is your job. üòÉ I want to show how you will use it, pros and cons.</p> <h2 id="on-flight-or-jquery-style"><a href="#on-flight-or-jquery-style" aria-hidden="true" class="header-anchor">#</a> On-flight or jQuery style</h2> <p>I suppose you remember how popular jQuery was, maybe it is still the best tool for somebody. jQuery provided us a big amount of good things, one of them - is a short notation of the AJAX. No XmlHttpRequest more, just simple <code>$.ajax</code>.</p> <img title="jQuery pills use right" srcset="/assets/img/jquery-pills-use-right.12797e06.png 100w" sizes="50px" src="/assets/img/jquery-pills-use-right.12797e06.png"> <p>So the first style - is to write an AJAX query immediately when you need it.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>jQuery<span class="token punctuation">.</span>ajax<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>
  <span class="token string">'http://super-app.com/api/client'</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    success<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      client <span class="token operator">=</span> data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    error<span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'blah blah blah'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>I do not want even to discuss why that way is bad. If you will try to write SPA in a such way - you may find that all your requests are scattered by your application. And if you will make a small error - you will find it, only when user will do the action to run that query.</p> <p>And as always - one day someone would say &quot;We need some time for refactoring&quot;.</p> <h2 id="factory"><a href="#factory" aria-hidden="true" class="header-anchor">#</a> Factory</h2> <p>Now we have a configuration of all our requests, and you create them dynamically when you need. For example <code>resource</code> in angular 1.x, someone may say that example is not good, but I want to note that implementation may vary. The idea of the factory - generate objects (requests in our case) dynamically depending on some configuration.</p> <img title="Factory? We need more lumber!" srcset="/assets/img/factory-we-need-more-lumber.b8a65b6c.png 100w" sizes="50px" src="/assets/img/factory-we-need-more-lumber.b8a65b6c.png"> <p>Lets imagine two most popular interfaces with configuration:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>request<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  host<span class="token punctuation">:</span> <span class="token string">'http://super-app.com/api/'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Usage #1:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">request</span><span class="token punctuation">(</span>
  <span class="token string">'GET'</span><span class="token punctuation">,</span>
  <span class="token string">'client'</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    clientData <span class="token operator">=</span> data<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'error handler'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Usage #2:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> client <span class="token operator">=</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'client'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
client<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    clientData <span class="token operator">=</span> data<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'error handler'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="singleton"><a href="#singleton" aria-hidden="true" class="header-anchor">#</a> Singleton</h2> <p>Singleton - is the most popular pattern in software development. So we have a single class to keep all requests and configurations.</p> <img title="Single does not mean Super" srcset="/assets/img/single-does-not-mean-super.39efdaa7.png 100w" sizes="50px" src="/assets/img/single-does-not-mean-super.39efdaa7.png"> <div class="language-javascript extra-class"><pre class="language-javascript"><code>api<span class="token punctuation">.</span><span class="token function">getProjectList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
api<span class="token punctuation">.</span><span class="token function">getProjectById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
api<span class="token punctuation">.</span><span class="token function">updateClient</span><span class="token punctuation">(</span>instance<span class="token punctuation">)</span><span class="token punctuation">;</span>
api<span class="token punctuation">.</span><span class="token function">deleteUser</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ... and so on</span>
</code></pre></div><p>The approach is not so bad, but <code>api.js</code> will grow in time. So it becomes really hard to change and to add new queries. Gritting one's teeth you will add new methods to the file, and one day you will decide that you need to split it.</p> <p>I assume that your architecture will be next:</p> <div class="language- extra-class"><pre class="language-text"><code>-/ api
 |- client.js
 |- project.js
 |- user.js
  \ api.js
</code></pre></div><p>And usage will be changed to the next one:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>api<span class="token punctuation">.</span>project<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
api<span class="token punctuation">.</span>project<span class="token punctuation">.</span><span class="token function">getById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
api<span class="token punctuation">.</span>client<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>instance<span class="token punctuation">)</span><span class="token punctuation">;</span>
api<span class="token punctuation">.</span>user<span class="token punctuation">.</span><span class="token keyword">delete</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ... and so on</span>
</code></pre></div><p>It looks nice and understandable, but there is one small problem - separation of contests. So working with project API - you have an access to client API and you can remove it, instead of a project. That is why you need to isolate classes.</p> <h2 id="micro-services"><a href="#micro-services" aria-hidden="true" class="header-anchor">#</a> &quot;Micro&quot; services</h2> <p>No, wait! I do not want to talk about some big changes to split everything. I just want to note that every such file as <code>./app/api/client.js</code> is a service. And we do not need that singleton to keep the composition of all that services.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>projectApi<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
projectApi<span class="token punctuation">.</span><span class="token function">getById</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
clientApi<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>instance<span class="token punctuation">)</span><span class="token punctuation">;</span>
userApi<span class="token punctuation">.</span><span class="token keyword">delete</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ... and so on</span>
</code></pre></div><p>It seems that last solution is ideal. But the more services you have - the more imports and dependencies you need. Some can say that you need to separate by logic and make some groups of services. But it is a long way to discuss.</p> <img title="Even if there are a lot of them" srcset="/assets/img/even-if-there-are-a-lot-of-them.09068ad7.png 100w" sizes="50px" src="/assets/img/even-if-there-are-a-lot-of-them.09068ad7.png"> <h2 id="summary"><a href="#summary" aria-hidden="true" class="header-anchor">#</a> Summary</h2> <p>Every solution has pros and cons, and only you can define what is relevant for you.</p> <p>I told you how to develop an interaction between UI and API. And I hope you defined what approach is the best for you! Write your comment and let me know!</p> <p>P.S.:</p> <p>I want to mention that the more you write - the more you repeat yourself and others. Who knows, maybe we will return to simple jQuery style one day. üòÉ</p></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner action"><a href="/post/dead-code-problem/" class="prev action-button">
          ‚Üê
          Dead code problem
        </a> <a href="/post/what-makes-product-good/" class="action-button">
          What makes it a good product
          ‚Üí
        </a></p></div> <div id="feedback-form" class="feedback-form"><p class="center">
    or
  </p> <p class="center">
    Write me a message
  </p> <form method="POST" action="https://formspree.io/aleksey.pastuhov@gmail.com"><input type="hidden" name="_subject" value="Blog feedback"> <input type="hidden" name="page" value="Evolution of Interaction"> <input type="hidden" name="_next" value="/"> <div class="field-wrapper"><input type="email" name="_replyto" id="email" placeholder="Your email, so I can write you back (optional)"> <textarea required="required" name="feedback" id="feedback" cols="30" rows="10" placeholder="Share your thoughts, I appreciate your feedback!"></textarea></div> <p class="center"><input type="text" name="_gotcha" style="display:none"> <button type="submit" class="action-button">Send</button></p></form></div>  <div class="footer-wrapper"><div class="personal-links"><h3>Contact me here</h3> <div class="links"><a rel="noopener noreferrer" target="_blank" href="https://twitter.com/PastuhovAleksey" title="Twitter" onclick="gtag('event', 'social-twitter')">Twitter</a> <a rel="noopener noreferrer" target="_blank" href="https://www.linkedin.com/in/PastuhovAleksey" title="Linkedin" onclick="gtag('event', 'social-linkedin')">Linkedin</a> <a rel="noopener noreferrer" target="_blank" href="https://github.com/apastuhov" title="Github" onclick="gtag('event', 'social-github')">GitHub</a> <a rel="noopener noreferrer" target="_blank" href="https://dev.to/apastuhov" title="Dev" onclick="gtag('event', 'social-dev')">DevTo</a></div></div> <div class="footer">
  Copyright ¬© 2016-present <span style="white-space: nowrap;">Aleksey Pastuhov</span></div></div></div> <!----></div></div>
    <script src="/assets/js/1.2d26195f.js" defer></script><script src="/assets/js/app.e437fc9f.js" defer></script>
  </body>
</html>
